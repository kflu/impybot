<html>
	<head>
		<title>
			IMPyBot: a Jabber Bot framework and utilities
		</title>
	</head>
	<body>
		<h1>
			IMPyBot: a Jabber Bot framework and utilities
		</h1>
        <ul>
		<li>
		<a href="http://sourceforge.net/projects/impybot">Project homepage</a>
		</li>
        <li>
        <A HREF="http://impybot.sourceforge.net/guide.html">User Guide</A>
        </li>
		<li>
		<a href="https://sourceforge.net/apps/trac/impybot/">Project Wiki</a>
		</li>
		<li>
		<a href="http://impybot.hg.sourceforge.net/hgweb/impybot/">Source codes</a>
		</li>
		<li>
		<a href="https://sourceforge.net/projects/impybot/forums">Discussions</a>
		</li>
        </ul>
<hr />
<p>
A detailed user guide can be found <A HREF="http://impybot.sourceforge.net/guide.html">here</A>.
</p>
<H1>A Guide for The Impatients</H1>
<P>
IMPyBot (impybot) is a bot (IM automatic response) framework for
XMPP protocol.  It provides a plug-in system, so that the
implementation of a utility is isolated from implementation of the
bot. This provides great convenience to manage the utilities without
touching the bot itself. The plug-in system is sophisticated that it
enables developer to write really large and powerful plug-ins.
Meanwhile, it also provides a simple interface such that users with
little Python experience can write useful utilities as well.
</P>
<PRE>
                         The Plug-ins                         
              +---------+ +------------+ +------------+       
              | weather | | dictionary | | calculator |       
              +---------+ +------------+ +------------+       
                                | plug in                     
                                v                             
           +--------------------------------------------+     
           |         The XMPP Bot Framework             |     
           +--------------------------------------------+     
                               | ^                            
                               v |                            
           +--------------------------------------------+     
           |                 Internet                   |     
           +--------------------------------------------+     

            Figure 1. Illustration of the IMPyBot Framework
</PRE>
<P></P>
<P>
To write your own utilities (we call it a plugin), simply follow
these TWO steps:
</P>
<H2>Write a plugin module</H2>
<P>
Create a text file called <CODE>my_first_plugin.py</CODE>, with codes look
like the following:
</P>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="Generator" content="Vim/7.2">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
</head>
<body bgcolor="#ffffff" text="#000000"><font face="monospace">
<font color="#804040">&nbsp;1 </font><font color="#a020f0">import</font>&nbsp;impybot&nbsp;&nbsp;<font color="#0000ff"># make sure it's properly installed</font><br>
<font color="#804040">&nbsp;2 </font><br>
<font color="#804040">&nbsp;3 </font><font color="#804040"><b>class</b></font>&nbsp;<font color="#008080">MyFirstPlugin</font>(impybot.SimplePlugin):<br>
<font color="#804040">&nbsp;4 </font><br>
<font color="#804040">&nbsp;5 </font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff"># If a message has lines begin with ANY of these words, </font><br>
<font color="#804040">&nbsp;6 </font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff"># handle_match() will be called.</font><br>
<font color="#804040">&nbsp;7 </font>&nbsp;&nbsp;&nbsp;&nbsp;command = ('<font color="#ff00ff">echo</font>', '<font color="#ff00ff">display</font>')<br>
<font color="#804040">&nbsp;8 </font>&nbsp;&nbsp;&nbsp;&nbsp;<br>
<font color="#804040">&nbsp;9 </font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><b>def</b></font>&nbsp;<font color="#008080">handle_match</font>( self, matched, sender_jid ):<br>
<font color="#804040">10 </font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg = '<font color="#ff00ff">The strings after the matched commands:</font>'<br>
<font color="#804040">11 </font><br>
<font color="#804040">12 </font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff"># If a line in a message matches ANY words in ``command'',</font><br>
<font color="#804040">13 </font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff"># the string after the matched word of that line goes into</font><br>
<font color="#804040">14 </font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff"># the ``matched'' tuple. </font><br>
<font color="#804040">15 </font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><b>for</b></font>&nbsp;m <font color="#804040"><b>in</b></font>&nbsp;matched:<br>
<font color="#804040">16 </font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg = msg + '<font color="#6a5acd">\n</font>'&nbsp;+ m<br>
<font color="#804040">17 </font><br>
<font color="#804040">18 </font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#0000ff"># The returned string will be sent back as a reply.</font><br>
<font color="#804040">19 </font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><b>return</b></font>&nbsp;msg<br>
<font color="#804040">20 </font><br>
<font color="#804040">21 </font><font color="#0000ff"># DON'T FORGET TO REGISTER THE CLASS!!!</font><br>
<font color="#804040">22 </font>impybot.register(MyFirstPlugin)<br>
</font></body>
</html>
<H2>Invoke the bot</H2>
<P>
Invoke the command line tool to run a bot and tell it where your
plugin is:
</P>
<PRE>
  python -m run_bot -j "jid@server.com" -p "password" -m my_first_plugin.py
</PRE>
<P></P>
<H2>That's it!</H2>
<P>
Congratulations on your first Instant Messaging Application!
</P>
	</body>
</html>
